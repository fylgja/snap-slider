<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Test - @fylgja/snap-slider</title>
		<link href="https://unpkg.com/fylgja/fylgja.css" rel="stylesheet" />
		<script defer src="https://unpkg.com/@fylgja/snap-slider"></script>
	</head>
	<body>
		<main class="min-h-screen flex flex-col justify-center container">
			<a
				href="https://fylgja.dev/"
				target="_blank"
				rel="noopener noreferrer"
				class="block py-8 mx-auto"
			>
				<img
					src="https://raw.githubusercontent.com/fylgja/.github/main/assets/logo.svg"
					alt="Fylgja CSS"
					width="300"
					height="130"
				/>
			</a>

			<snap-slider
				id="slimSlider"
				aria-label="Simple Slider"
				data-auto-pager
				data-slide-of-label="of"
				class="flow"
			>
				<div class="flex align flow-unset">
					<h2>Snap Slider</h2>
					<div class="flex gap">
						<button data-prev hidden aria-label="Previous Slide">
							←
						</button>
						<button data-next hidden aria-label="Next Slide">
							→
						</button>
						<button onclick="addSlide()">Add Slide</button>
					</div>
				</div>
				<div
					data-track
					class="snap scroll-x grid grid-flow gap flow-unset"
					style="--md_grid-cols: 2; --lg_grid-cols: 3"
				>
					<img
						src="https://picsum.photos/id/11/500/340"
						width="500"
						height="340"
						alt="demo image"
					/>
					<img
						src="https://picsum.photos/id/15/500/340"
						width="500"
						height="340"
						alt="demo image"
					/>
					<img
						src="https://picsum.photos/id/19/500/340"
						width="500"
						height="340"
						alt="demo image"
					/>
					<img
						src="https://picsum.photos/id/23/500/340"
						width="500"
						height="340"
						alt="demo image"
					/>
				</div>
			</snap-slider>
		</main>
	</body>
	<script>
		function addSlide() {
			const randomNumber = Math.floor(Math.random() * 99) + 1;
			const newSlide = document.createElement("img");
			newSlide.setAttribute(
				"src",
				`https://picsum.photos/id/${randomNumber}/500/340`
			);
			newSlide.setAttribute("width", "500");
			newSlide.setAttribute("height", "340");
			newSlide.setAttribute("alt", "js slide added");
			const trackElement = slimSlider.querySelector("[data-track]");
			trackElement.appendChild(newSlide);
		}

		slimSlider.addEventListener("slideChange", (event) => {
			console.log(event.detail);
		});
	</script>
</html>
